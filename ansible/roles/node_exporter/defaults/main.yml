# ========================================
# РОЛЬ: node_exporter
# Экспортер метрик хоста (CPU, RAM, Disk, Network)
# ========================================

# --- roles/node_exporter/defaults/main.yml ---
---
# Директория для конфигурации
node_exporter_dir: "{{ base_dir }}/node_exporter"

# Docker образ
node_exporter_image: "prom/node-exporter:v1.7.0"

# Имя контейнера
node_exporter_container_name: "node_exporter"

# Порт для метрик
node_exporter_port: 9100

# Collectors - какие метрики собирать
# Отключаем ненужные для уменьшения нагрузки
node_exporter_disabled_collectors:
  - "arp"        # ARP таблица (редко нужна)
  - "bcache"     # Block cache (если не используется)
  - "bonding"    # Network bonding
  - "btrfs"      # BTRFS filesystem
  - "conntrack"  # Connection tracking
  - "fibrechannel"
  - "infiniband"
  - "ipvs"
  - "nfs"
  - "nfsd"
  - "nvme"
  - "rapl"       # Intel power metrics
  - "tapestats"
  - "zfs"
