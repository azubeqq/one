# ========================================
# РОЛЬ: loki
# Хранилище логов (аналог Prometheus для логов)
# ========================================

# --- roles/loki/defaults/main.yml ---
---
# Директория для Loki
loki_dir: "{{ base_dir }}/loki"

# Docker образ
loki_image: "grafana/loki:2.9.0"

# Имя контейнера
loki_container_name: "loki"

# Порт HTTP API
loki_port: 3100

# gRPC порт (для внутренней коммуникации)
loki_grpc_port: 9096

# Volume для хранения данных
loki_volume_name: "loki_data"

# Настройки хранения
loki_retention_days: 7              # Хранить логи N дней
loki_ingestion_rate_mb: 10          # Макс скорость приёма MB/s
loki_ingestion_burst_size_mb: 20    # Burst лимит MB

# Директории внутри контейнера
loki_data_path: "/loki"
loki_chunks_dir: "/loki/chunks"
loki_rules_dir: "/loki/rules"
